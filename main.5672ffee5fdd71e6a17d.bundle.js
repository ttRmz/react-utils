(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{278:function(module,exports,__webpack_require__){__webpack_require__(279),__webpack_require__(442),module.exports=__webpack_require__(443)},358:function(module,exports){},443:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(277);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(624)],module)}.call(this,__webpack_require__(444)(module))},624:function(module,exports,__webpack_require__){var map={"./useCopyToClipboard/useCopyToClipboard.stories.js":634};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=624},634:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return useCopyToClipboard_stories_Basic})),__webpack_require__.d(__webpack_exports__,"Timeout",(function(){return useCopyToClipboard_stories_Timeout}));var dist=__webpack_require__(173),react=__webpack_require__(1),react_default=__webpack_require__.n(react);function copyToClipboard(text){var callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},createdElement=document.createElement("textarea"),iOSNavigator=window.navigator.userAgent.match(/ipad|iphone/i),yPosition=window.pageYOffset||document.documentElement.scrollTop;if(createdElement.contentEditable=!0,createdElement.readOnly=!1,createdElement.value=text,createdElement.style.border="0",createdElement.style.padding="0",createdElement.style.margin="0",createdElement.style.position="absolute",createdElement.style.top="".concat(yPosition,"px"),document.body.appendChild(createdElement),iOSNavigator){var range=document.createRange();range.selectNodeContents(createdElement);var selection=window.getSelection();selection.removeAllRanges(),selection.addRange(range),createdElement.setSelectionRange(0,999999)}else createdElement.select();var error=null;try{document.execCommand("copy")}catch(_unused){try{window.clipboardData.setData("text",text)}catch(err){error=err}}document.body.removeChild(createdElement),callback(error)}var slicedToArray=__webpack_require__(17);function useTimeout(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},delay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,_React$useState=react_default.a.useState(!1),_React$useState2=Object(slicedToArray.a)(_React$useState,2),pending=_React$useState2[0],setPending=_React$useState2[1],savedRefCallback=react_default.a.useRef();react_default.a.useEffect((function(){savedRefCallback.current=callback}),[callback]);var start=function start(){setPending(!0)},stop=react_default.a.useCallback((function(){setPending(!1)}),[]),handler=react_default.a.useCallback((function(){savedRefCallback.current&&savedRefCallback.current(),stop()}),[savedRefCallback,stop]);return react_default.a.useEffect((function(){if(pending){var timeout=window.setTimeout(handler,delay);return function(){window.clearTimeout(timeout)}}}),[pending,delay,handler]),{start:start,stop:stop,pending:pending}}function useCopyToClipboard(){var successDuration=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,_React$useState=react_default.a.useState(!1),_React$useState2=Object(slicedToArray.a)(_React$useState,2),copied=_React$useState2[0],setCopied=_React$useState2[1],_React$useState3=react_default.a.useState(null),_React$useState4=Object(slicedToArray.a)(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1],resetStates=function resetStates(){setCopied(!1),setError(null)},_useTimeout=useTimeout(resetStates,successDuration),start=_useTimeout.start,copy=function copy(text){copyToClipboard(text,(function(error){setCopied(!error),setError(error),!error&&"number"==typeof successDuration&&successDuration>0&&start()}))};return{copied:copied,copy:copy,error:error}}__webpack_exports__.default={title:"useCopyToClipboard",decorators:[dist.withKnobs]};var useCopyToClipboard_stories_InputButton=function InputButton(_ref){var copy=_ref.copy,copied=_ref.copied,_useInput=function useInput(initialValue){var stringified=initialValue.toString(),_React$useState=react_default.a.useState(stringified),_React$useState2=Object(slicedToArray.a)(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1],onChange=react_default.a.useCallback((function(e){return setValue(e.target.value)}),[]),clear=react_default.a.useCallback((function(){return setValue("")}),[]);return react_default.a.useMemo((function(){return{value:value,setValue:setValue,hasValue:null!=value&&""!==value.trim(),clear:clear,onChange:onChange}}),[clear,onChange,value,setValue])}(""),value=_useInput.value,onChange=_useInput.onChange,setValue=_useInput.setValue;return react_default.a.createElement("div",null,react_default.a.createElement("input",{placeholder:"Text to copy",onChange:onChange,value:value}),react_default.a.createElement("button",{onClick:function onCopy(){copy(value),setValue("")}},copied?"Copied":"Copy"))},useCopyToClipboard_stories_Basic=function Basic(){var _useCopyToClipboard=useCopyToClipboard(),copy=_useCopyToClipboard.copy,copied=_useCopyToClipboard.copied;return react_default.a.createElement(useCopyToClipboard_stories_InputButton,{copy:copy,copied:copied})};useCopyToClipboard_stories_Basic.story={name:"Basic usage"};var useCopyToClipboard_stories_Timeout=function Timeout(){var _useCopyToClipboard2=useCopyToClipboard(Object(dist.number)("delay",3e3,{min:0,max:1e4,step:1e3})),copy=_useCopyToClipboard2.copy,copied=_useCopyToClipboard2.copied;return react_default.a.createElement(useCopyToClipboard_stories_InputButton,{copy:copy,copied:copied})};useCopyToClipboard_stories_Timeout.story={name:"With timeout"},useCopyToClipboard_stories_Basic.__docgenInfo={description:"",methods:[],displayName:"Basic"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/useCopyToClipboard/useCopyToClipboard.stories.js"]={name:"Basic",docgenInfo:useCopyToClipboard_stories_Basic.__docgenInfo,path:"src/useCopyToClipboard/useCopyToClipboard.stories.js"}),useCopyToClipboard_stories_Timeout.__docgenInfo={description:"",methods:[],displayName:"Timeout"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/useCopyToClipboard/useCopyToClipboard.stories.js"]={name:"Timeout",docgenInfo:useCopyToClipboard_stories_Timeout.__docgenInfo,path:"src/useCopyToClipboard/useCopyToClipboard.stories.js"})}},[[278,1,2]]]);
//# sourceMappingURL=main.5672ffee5fdd71e6a17d.bundle.js.map